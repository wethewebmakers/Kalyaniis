<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Update Form</title>
    <link href="static/images/logo.png" rel="icon">

    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Main CSS-->
    <link href="static/css/formstyle.css" rel="stylesheet" media="all">
</head>

<body>
    {% if message %}
        <div>
            <p style="color: red;text-align: center;margin-bottom: 2rem;">{{ message }}</p>
        </div>
    {% endif %}
    <div class="page-wrapper bg-dark p-t-100 p-b-50">
        <div class="wrapper wrapper--w900">
            <li><a href="logout">Logout</a></li>
            <div class="card card-6">
                <div class="card-heading">
                    <h2 class="title">Delete Products</h2>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="form-row">
                            <label class="name" for="category">Category</label>
                            <select class="input--style-6 value" name="category" id="del-category" style="height: 38px;">
                                <option value="silksarees">Silk Saree</option>
                                <option value="designersarees">Designer Saree</option>
                                <option value="kurtis">Kurti</option>
                                <option value="lehenga">Lehenga</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="card-footer">
                    <button class="btn btn--radius-2 btn--blue-2" type="submit" onclick=deleteproducts()>Submit</button>
                </div>
            </div>
        </div>
    </div>
    <div class="page-wrapper bg-dark p-t-100 p-b-50">
        <div class="wrapper wrapper--w900">
            <div class="card card-6">
                <div class="card-heading">
                    <h2 class="title">Add New Products</h2>
                </div>
                <div class="card-body">
                    <form method="POST" id="formoid">{% csrf_token %}
                        <div class="form-row">
                            <div class="name">Product Name</div>
                            <div class="value">
                                <input class="input--style-6" type="text" name="productname" id="productname" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <label class="name" for="category">Category</label>
                            <select class="input--style-6 value" name="category" id="add-category" style="height: 38px;">
                                <option value="silksarees">Silk Saree</option>
                                <option value="designersarees">Designer Saree</option>
                                <option value="kurtis">Kurti</option>
                                <option value="lehenga">Lehenga</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <div class="name">Description</div>
                            <div class="value">
                                <div class="input-group">
                                    <textarea class="textarea--style-6" name="message" id="message" placeholder="Type in product description" required></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Image 1</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input type="file" name="file1" id="file1" accept=".jpg, .jpeg, .png">
                                </div>
                                <div class="label--desc" style="font-style: italic;">[Image 1 is mandatory]</div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Image 2</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input type="file" name="file2" id="file2" accept=".jpg, .jpeg, .png">
                                </div>
                                <div class="label--desc" style="font-style: italic;">[Image 2 is optional]</div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Image 3</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input type="file" name="file3" id="file3" accept=".jpg, .jpeg, .png">
                                </div>
                                <div class="label--desc" style="font-style: italic;">[Image 3 is optional]</div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Image 4</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input type="file" name="file4" id="file4" accept=".jpg, .jpeg, .png">
                                </div>
                                <div class="label--desc" style="font-style: italic;">[Image 4 is optional]</div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Image 5</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input type="file" name="file5" id="file5" accept=".jpg, .jpeg, .png">
                                </div>
                                <div class="label--desc" style="font-style: italic;">[Image 5 is optional]</div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Video</div>
                            <div class="value">
                                <div class="input-group js-input-file">
                                    <input id="video" name="video" type="file" accept=".mp4, .ogg, .webm">
                                </div>
                                <div class="label--desc" style="font-style: italic;">[Video is optional]</div>
                            </div>
                        </div>
                </div>
                <div class="card-footer">
                    <button class="btn btn--radius-2 btn--blue-2" type="submit" value="Submit" onclick="addproduct()">Submit</button>
                </div>
            </form>
            </div>
        </div>
    </div>

    <!-- Jquery JS-->
    <script src="static/js/jquery-2.1.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 


    <!-- Main JS-->
    <script src="static/js/global.js"></script>
    <script>
        function deleteproducts(){
            var val = document.getElementById('del-category').value;
            if(val=='silksarees'){
                location.replace('/categories/silksarees')
            }else if(val=='designersarees'){
                location.replace('/categories/designersarees')
            }else if(val=='kurtis'){
                location.replace('/categories/kurtis')
            }else if(val=='lehenga'){
                location.replace('/categories/lehenga')
            }
        }

        function addproduct(){
            var productname = $('#productname').val();
            var category = $('#add-category').val();
            var description = $('#message').val();
            var image1 = $("#file1").val();
            var image2 = $("#file2").val();
            var image3 = $("#file3").val();
            var image4 = $("#file4").val();
            var image5 = $("#file5").val();
            var video = $("#video").val();

            $.ajax({
                headers: {'X-CSRFToken': '{{ csrf_token }}'},
                url: '../addproduct',  
                type: 'POST', 
                data: {'productname': productname, 'category': category, 'description': description, 'image1': image1, 'image2': image2, 'image3': image3, 'image4': image4, 'image5': image5, 'video': video}, 
                success: function(response) {  
                    alert('Product added successfully !!')           
                }  
            });   
        }
        
    </script>

</body>

</html>
<!-- end document-->